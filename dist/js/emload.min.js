!function(){function e(e){for(var t,i=[],r=0;r<e.length;r++)t=e[r],"undefined"!==t.src&&t.src&&t.src.indexOf("emload.js?url=")>-1&&i.push(t);return i}function t(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function i(e){var t="id-"+Math.round(1e3*Math.random(1e3)).toString();return a=document.createElement("iframe"),a.id=t,a.style.border="none",a.style.width="100%",a.style.maxWidth="100%",a.style.height="100%",a.style.position="relative",a.style.top="0",a.style.backgroundColor="#fff",a.scrolling="no",a.setAttribute("webkitallowfullscreen","true"),a.setAttribute("mozallowfullscreen","true"),a.setAttribute("allowfullscreen","true"),a.className="em-iframe em-single-iframe",a.name="em-iframe",a.src=e.src,"audio"==e.type?(a.className+=" em-iframe-audio","1"==e.list&&(a.className+=" em-iframe-audio-list")):a.style.position="absolute",!1}function r(e,t){var i=new URL(e),r="";if(i.searchParams)r=i.searchParams.get(t);else{t=t.replace(/[\[\]]/g,"\\$&");var s=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=s.exec(e);a&&a[2]&&(r=a[2].replace(/\+/g," "))}return window.decodeURIComponent(r)}var s,a,n=!0,l={setIFrameHeight:function(e,t,i){if(i){var r=e.parentNode,s=Math.max(r.scrollWidth,r.offsetWidth,r.clientWidth);t+=Math.round(9*s/16)}e.height=t,e.style.height=t+"px"},resizeAll:function(){for(var e=document.querySelectorAll(".em-iframe"),t=0;t<e.length;t++){var i=e[t],r=i.parentNode,s=Math.max(r.scrollWidth,r.offsetWidth,r.clientWidth),a=Math.round(9*s/16);if(i.classList.contains("em-iframe-audio")){var n=165;i.classList.contains("em-iframe-audio-list")?a+=n:a=n,i.height=a,i.style.height=a+"px"}}},loadIframe:function(){s.appendChild(a),"audio"==d.type&&("1"==r(o.src,"list")?this.setIFrameHeight(a,165,!0):this.setIFrameHeight(a,165),window.addEventListener("resize",this.resizeAll)),s.className="em-loaded"},load:function(){!s.classList.contains("em-loaded")&&window.scrollY<s.parentNode.offsetTop&&s.parentNode.offsetTop<window.scrollY+window.innerHeight&&this.loadIframe()},onMessage:function(e){if(e=e.data,"undefined"!=typeof e&&null!=e&&"string"==typeof e&&e.indexOf("em")>-1){e=e.split("|");var t=e[1],i=e[2];switch(t){case"height":a.height=i,a.style.height=i+"px"}}}},o=null,d={};if(document.currentScript)o=document.currentScript;else{var c=document.getElementsByClassName("em");o=e(c)[0]}o&&(d={src:r(o.src,"url"),type:r(o.src,"type"),list:r(o.src,"list")},s=document.createElement("div"),s.style.position="relative",s.style.width="100%",s.style.backgroundColor="#777","audio"!=d.type&&(s.style.paddingTop="56.25%"),i(d),t(o,s),n?(l.load(),window.addEventListener("scroll",l.load.bind(l),!1)):l.loadIframe(),o.className="em-injected")}();