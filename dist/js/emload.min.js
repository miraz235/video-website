!function(){function e(e){var t=Math.round(1e3*Math.random(1e3)).toString();a=document.createElement("iframe"),a.id="id-"+t,a.style.border="none",a.style.width="100%",a.style.maxWidth="100%",a.style.height="100%",a.style.position="relative",a.style.top="0",a.style.left="0",a.scrolling="no",a.setAttribute("webkitallowfullscreen","true"),a.setAttribute("mozallowfullscreen","true"),a.setAttribute("allowfullscreen","true"),a.classList.add("em-iframe","em-single-iframe"),a.name="em-iframe-"+t,a.src=e.src,"audio"==e.type?(a.classList.add("em-iframe-audio"),null!==e.list&&a.classList.add("em-iframe-audio-list")):a.style.position="absolute"}function t(e){var t={color:"rgba(0,0,0,.15)",image:"url(\"data:image/svg+xml,%3Csvg width='120px' height='120px' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid' class='uil-default'%3E%3Crect x='0' y='0' width='100' height='100' fill='none' class='bk'%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(0 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(30 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.08333333333333333s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(60 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.16666666666666666s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(90 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.25s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(120 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.3333333333333333s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(150 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.4166666666666667s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(180 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.5s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(210 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.5833333333333334s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(240 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.6666666666666666s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(270 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.75s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(300 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.8333333333333334s' repeatCount='indefinite'/%3E%3C/rect%3E%3Crect x='46.5' y='40' width='7' height='20' rx='5' ry='5' fill='%2300b2ff' transform='rotate(330 50 50) translate(0 -30)'%3E %3Canimate attributeName='opacity' from='1' to='0' dur='1s' begin='0.9166666666666666s' repeatCount='indefinite'/%3E%3C/rect%3E%3C/svg%3E\")",position:"center",repeat:"no-repeat",size:"22%"};r=document.createElement("div"),r.style.position="relative",r.style.width="100%",r.style.boxShadow="inset 0 0 2px #aaa",r.style.background=t.color+" "+t.image+" "+t.position+"/"+t.size+" "+t.repeat,r.style.paddingTop="56.25%",r.className=e.wrapClass||"em-wrapper"}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),a=r.length>>>0,i=arguments[1],s=0;s<a;s++)if(t=r[s],e.call(i,t,s,r))return t}});var r,a,i=!1,s={scrollTimer:0,isEMLoadScript:function(e){return"undefined"!==e.src&&e.src&&e.src.indexOf("emload.js?url=")>-1},insertAfter:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},searchParams:function(e,t){var r="",a=!1;t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),s=i.exec(e);return s&&(a=!0,s[2]&&(r=s[2].replace(/\+/g," "))),null===r&&(r=""),a?window.decodeURIComponent(r):null},addParam:function(e,t,r){var a=new RegExp("[?&]"),i=a.exec(e),s=i?"&":"?",n=!!this.searchParams(e,t);return n?e:e+s+t+"="+window.encodeURIComponent(r)},setIFrameHeight:function(e,t,r){if(r){var a=e.parentNode,i=Math.max(a.scrollWidth,a.offsetWidth,a.clientWidth);t+=Math.round(9*i/16)}e.height=t,e.style.height=t+"px"},resizeAll:function(){for(var e=document.querySelectorAll(".em-iframe"),t=0;t<e.length;t++){var r=e[t],a=r.parentNode,i=Math.max(a.scrollWidth,a.offsetWidth,a.clientWidth),s=Math.round(9*i/16);if(r.classList.contains("em-iframe-audio")){var n=165;r.classList.contains("em-iframe-audio-list")?s+=n:s=n,r.height=s,r.style.height=s+"px"}}},hasScrollbar:function(e){return e?e.scrollHeight>e.clientHeight?e:this.hasScrollbar(e.parentNode):document.documentElement},getTopPosition:function(e,t){for(var r=0;e;)r+=e.offsetTop-("BODY"===e.tagName?window.pageYOffset||document.documentElement.scrollTop:e.scrollTop)+e.clientTop,e=e.offsetParent;return r},loadIframe:function(){setTimeout(function(){this.wrapper.appendChild(this.iframe),this.wrapper.classList.add("em-loaded"),this.wrapper.style.removeProperty&&this.wrapper.style.removeProperty("background"),"audio"==o.type&&(this.wrapper.style.paddingTop="0",null!==this.searchParams(this.script.src,"list")?this.setIFrameHeight(this.iframe,165,!0):this.setIFrameHeight(this.iframe,165),window.addEventListener("resize",this.resizeAll))}.bind(this),200)},postMessage:function(e,t){this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(e,t)},playVideo:function(){if(!this.wrapper.classList.contains("em-visible")&&this.wrapper.classList.contains("em-paused")&&!this.wrapper.classList.contains("em-playing")){this.wrapper.classList.add("em-visible");var e="em|"+JSON.stringify({emmethod:"play"}),t="*";this.iframe.src.indexOf("vimeo.com")>0&&(this.wrapper.classList.remove("em-paused"),this.wrapper.classList.add("em-playing"),e=JSON.stringify({method:"play"}),t="https://player.vimeo.com"),this.postMessage(e,t)}},pauseVideo:function(){if(this.wrapper.classList.contains("em-playing")&&!this.wrapper.classList.contains("em-paused")){this.wrapper.classList.remove("em-playing"),this.wrapper.classList.add("em-paused");var e="em|"+JSON.stringify({emmethod:"pause"}),t="*";this.iframe.src.indexOf("vimeo.com")>0&&(e=JSON.stringify({method:"pause"}),t="https://player.vimeo.com"),this.postMessage(e,t)}},scrollCalc:function(){this.scrollableParent||(this.scrollableParent=this.hasScrollbar(this.wrapper.parentNode));var e=this.getTopPosition(this.wrapper,this.scrollableParent);e+this.wrapper.clientHeight>=0&&e<=this.scrollableParent.clientHeight?this.wrapper.classList.contains("em-loaded")?this.playVideo():this.loadIframe():(this.wrapper.classList.remove("em-visible"),this.wrapper.classList.contains("em-loaded")&&this.pauseVideo())},lazyload:function(e){clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){this.scrollCalc()}.bind(this),300)},onMessage:function(e){if(message=e.data,"undefined"!=typeof message&&null!=message&&"string"==typeof message&&message.indexOf("em|")>-1){var t=!1;switch(message=JSON.parse(message.split("|")[1]),message.frameid&&(t=this.iframe.id=="id-"+message.frameid),message.emmethod){case"play":t?(this.wrapper.classList.add("em-playing"),this.wrapper.classList.remove("em-paused")):this.pauseVideo();break;case"paused":case"ended":case"adstart":case"adend":case"adserror":}}}},n=document.currentScript&&"em"==document.currentScript.className?document.currentScript:[].slice.call(document.getElementsByClassName("em")).find(s.isEMLoadScript);if(n){var o={src:s.searchParams(n.src,"url"),type:s.searchParams(n.src,"type"),list:s.searchParams(n.src,"list"),lazy:s.searchParams(n.src,"lazy"),wrapClass:s.searchParams(n.src,"class")},l=s.searchParams(o.src,"autoplay");o.src=s.addParam(o.src,"prel",location.href),!l||"1"!==l&&"true"!==l&&1!==l&&l!==!0||(o.lazy=null),t(o),e(o),s.insertAfter(n,r),s.wrapper=r,s.iframe=a,s.script=n,i=null!==o.lazy||i,i?(s.lazyload(),window.addEventListener("scroll",s.lazyload.bind(s),!1)):s.loadIframe();var c=window.addEventListener?"addEventListener":"attachEvent",d="attachEvent"==c?"onmessage":"message";return window[c](d,s.onMessage.bind(s),!1),n.className="em-injected",!1}}();