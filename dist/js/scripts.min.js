videojs.options.flash.swf="../vendors/video.js/video-js.swf",function(t){"use strict";var e=function(e){var i={};return t.each(e.split("&"),function(t,e){var o=e.split("=");2==o.length&&(i[o[0].toString()]=o[1].toString())}),i},i={init:function(e){e&&t("#"+e).length&&(this.vPlayerId=e,this.currentIndex=-1,this.videoList=[],this.setVideoList(),this.setMediaId(),this.setAutoChange(),this.setVideoPlayer())},setMediaId:function(){var t=e(document.location.search.substr(1));this.mediaId=t.watch,!this.mediaId&&this.videoList[0]&&window.location.replace(this.videoList[0])},setVideoList:function(){var i=this,o=t(".media-playlist__tracks li .media-playlist__video");o.each(function(o){var s=e(this.href.split("?")[1]),a=t(this).parent();if(s){s.watch;if(i.videoList[o]=this.href,window.location.href.indexOf(this.href)>-1)a.addClass("currently-playing"),i.currentIndex=o,a.parent().animate({scrollTop:o*a.outerHeight()+1},500);else if(i.currentIndex>-1)return!1}})},setAutoChangePlayList:function(t){void 0!==typeof localStorage?localStorage.setItem("autoplayPlaylist",t):console.log("Sorry! No Web Storage support..")},getAutoChangePlayList:function(){if(void 0!==typeof localStorage&&void 0!==localStorage.autoplayPlaylist){var e=JSON.parse(localStorage.autoplayPlaylist);return t("#mediaAutoplay").prop("checked",e),e}return console.log("Sorry! No Web Storage support.."),t("#mediaAutoplay").is(":checked")},setAutoChange:function(){var e=this,i=e.getAutoChangePlayList();e.setAutoChangePlayList(i),t("#mediaAutoplay").change(function(i){e.setAutoChangePlayList(t(this).is(":checked"))})},setVideoPlayer:function(){var e=this,i=videojs(e.vPlayerId,{controls:!0,autoplay:!0,preload:"none"},function(){e.mediaId&&(this.src([{type:"video/mp4",src:"resources/videos/"+e.mediaId+".mp4"}]),this.poster("resources/videos/posters/"+e.mediaId+".jpg"))});i.on("ended",t.proxy(this.setVideoEndEvent,this))},setVideoEndEvent:function(t){var e=this.videoList[this.currentIndex+1];e&&this.getAutoChangePlayList()&&setTimeout(function(){window.location.href=e+"#content"},1500)}},o={init:function(){var e=t("audio.js-media-audio"),i=this,o={controls:!0,autoplay:!1,loop:!1,height:100,plugins:{wavesurfer:{src:null,msDisplayMax:10,debug:!0,waveColor:"grey",progressColor:"#0092f5",cursorColor:"white",hideScrollbar:!1}}};i.audios=[],e.each(function(e){this.pause();var s=null,a=t(this).find("source");a.length&&(s=a.attr("src"),a.remove()),this.load(),o.plugins.wavesurfer.src=s,i.audios[e]=videojs(this,o),i.audios[e].on("play",function(t){for(var e=0;e<i.audios.length;e++)console.log(e,i.audios[e].currentTime()),i.audios[e].id()!=t.target.id&&(i.audios[e].pause(),i.audios[e].currentTime(0))})})}};t(document).ready(function(){i.init("videoMediaPlayer"),o.init()})}(jQuery);
//# sourceMappingURL=scripts.min.js.map
