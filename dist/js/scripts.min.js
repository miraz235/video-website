videojs.options.flash.swf="../vendors/video.js/video-js.swf",function(e){"use strict";var t=function(t){var i={};return e.each(t.split("&"),function(e,t){var o=t.split("=");2==o.length&&(i[o[0].toString()]=o[1].toString())}),i},i={init:function(t){t&&e("#"+t).length&&(this.vPlayerId=t,this.currentIndex=-1,this.videoList=[],this.setVideoList(),this.setMediaId(),this.setAutoChange(),this.setVideoPlayer())},setMediaId:function(){var e=t(document.location.search.substr(1));this.mediaId=e.watch,!this.mediaId&&this.videoList[0]&&window.location.replace(this.videoList[0])},setVideoList:function(){var i=this,o=e(".media-playlist__tracks li .media-playlist__video");o.each(function(o){var s=t(this.href.split("?")[1]),a=e(this).parent();if(s){s.watch;if(i.videoList[o]=this.href,window.location.href.indexOf(this.href)>-1)a.addClass("currently-playing"),i.currentIndex=o,a.parent().animate({scrollTop:o*a.outerHeight()+1},500);else if(i.currentIndex>-1)return!1}})},setAutoChangePlayList:function(e){"undefined"!=typeof localStorage?localStorage.setItem("autoplayPlaylist",e):console.log("Sorry! No Web Storage support..")},getAutoChangePlayList:function(){if("undefined"!=typeof localStorage&&"undefined"!==localStorage.autoplayPlaylist){var t=JSON.parse(localStorage.autoplayPlaylist);return e("#mediaAutoplay").prop("checked",t),t}return console.log("Sorry! No Web Storage support.."),e("#mediaAutoplay").is(":checked")},setAutoChange:function(){var t=this,i=t.getAutoChangePlayList();t.setAutoChangePlayList(i),e("#mediaAutoplay").change(function(i){console.log(this),t.setAutoChangePlayList(e(this).is(":checked"))})},setVideoPlayer:function(){var t=this,i=videojs(t.vPlayerId,{controls:!0,autoplay:!0,preload:"none"},function(){t.mediaId&&(this.src([{type:"video/mp4",src:"resources/videos/"+t.mediaId+".mp4"}]),this.poster("resources/videos/posters/"+t.mediaId+".jpg"))});i.on("ended",e.proxy(this.setVideoEndEvent,this))},setVideoEndEvent:function(e){var t=this.videoList[this.currentIndex+1];t&&this.getAutoChangePlayList()&&setTimeout(function(){window.location.href=t},1500)}},o={init:function(){var t=e("audio.js-media-audio"),i=this,o={controls:!0,autoplay:!1,loop:!1,height:100,plugins:{wavesurfer:{src:null,msDisplayMax:10,debug:!0,waveColor:"grey",progressColor:"#0092f5",cursorColor:"white",hideScrollbar:!1}}};i.audios=[],t.each(function(t){this.pause();var s=null,a=e(this).find("source");a.length&&(s=a.attr("src"),a.remove()),this.load(),o.plugins.wavesurfer.src=s,i.audios[t]=videojs(this,o),i.audios[t].on("play",function(e){for(var t=0;t<i.audios.length;t++)console.log(t,i.audios[t].currentTime()),i.audios[t].id()!=e.target.id&&(i.audios[t].pause(),i.audios[t].currentTime(0))})})}};e(document).ready(function(){i.init("videoMediaPlayer"),o.init()})}(jQuery);
//# sourceMappingURL=scripts.min.js.map
