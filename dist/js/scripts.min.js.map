{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["videojs.options.flash.swf = \"../vendors/video.js/video-js.swf\";\r\n(function($) {\r\n    'use strict';\r\n\r\n    $(document).ready(function() {\r\n        var $tracksDom = $('.media-playlist__tracks li .media-playlist__video');\r\n        var queries = {};\r\n        var getUrlQueries = function(queryStr) {\r\n            var out = {};\r\n            $.each(queryStr.split('&'), function(key, value) {\r\n                var i = value.split('=');\r\n                out[i[0].toString()] = i[1].toString();\r\n            });\r\n            return out;\r\n        };\r\n        queries = getUrlQueries(document.location.search.substr(1));\r\n        var vplayerId = queries.watch;\r\n        var videoList = [];\r\n        var currentIndex = -1;\r\n\r\n        $tracksDom.each(function(index) {\r\n            var urldata = getUrlQueries(this.href.split('?')[1]);\r\n            if (urldata) {\r\n                var trackId = urldata.watch;\r\n                if (trackId === vplayerId) {\r\n                    $(this).parent().addClass(\"currently-playing\");\r\n                    currentIndex = index;\r\n                }\r\n                videoList[index] = trackId;\r\n            }\r\n        });\r\n\r\n        var if_autoplay = true;\r\n        var vplayer = videojs(\"videoMediaPlayer\", { controls: true, autoplay: if_autoplay, preload: \"none\" }, function() {\r\n            if (vplayerId) {\r\n                this.src([{ type: \"video/mp4\", src: \"videos/\" + vplayerId + \".mp4\" }]);\r\n                this.poster('videos/posters/' + vplayerId + '.jpg');\r\n            }\r\n        });\r\n        vplayer.on('ended', function() {\r\n            console.log('awww...over so soon?');\r\n            if (videoList[currentIndex + 1]) {\r\n                setTimeout(function() {\r\n                    window.location.href = \"video-playlist.html?watch=\" + videoList[currentIndex + 1];\r\n                }, 1500)\r\n\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n})(jQuery);"],"file":"scripts.min.js","sourceRoot":"/source/"}