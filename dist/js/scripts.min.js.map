{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["videojs.options.flash.swf = \"../vendors/video.js/video-js.swf\";\r\n(function($) {\r\n    'use strict';\r\n\r\n    $(document).ready(function() {\r\n\r\n        var getUrlQueries = function(queryStr) {\r\n            var out = {};\r\n            $.each(queryStr.split('&'), function(key, value) {\r\n                var i = value.split('=');\r\n                out[i[0].toString()] = i[1].toString();\r\n            });\r\n            return out;\r\n        };\r\n\r\n        var videoPlayList = {\r\n            init: function() {\r\n                this.currentIndex = -1;\r\n                this.videoList = [];\r\n                this.setMediaId();\r\n                if (this.mediaId) {\r\n                    this.setVideoList();\r\n                    this.setVideoPlayer();\r\n                }\r\n            },\r\n            setMediaId: function() {\r\n                var queries = getUrlQueries(document.location.search.substr(1));\r\n                this.mediaId = queries.watch\r\n            },\r\n            setVideoList: function() {\r\n                var self = this;\r\n                var $tracksDom = $('.media-playlist__tracks li .media-playlist__video');\r\n                $tracksDom.each(function(index) {\r\n                    var urldata = getUrlQueries(this.href.split('?')[1]);\r\n                    var $li = $(this).parent();\r\n                    if (urldata) {\r\n                        var trackId = urldata.watch;\r\n                        self.videoList[index] = trackId;\r\n                        if (trackId === self.mediaId) {\r\n                            $li.addClass(\"currently-playing\");\r\n                            self.currentIndex = index;\r\n                            $li.parent().animate({\r\n                                scrollTop: index * $li.outerHeight() + 1\r\n                            }, 1000);\r\n                        } else if (self.currentIndex > -1)\r\n                            return false;\r\n                    }\r\n                });\r\n            },\r\n            setVideoPlayer: function() {\r\n                var self = this;\r\n                var if_autoplay = true;\r\n                var vplayer = videojs(\"videoMediaPlayer\", { controls: true, autoplay: if_autoplay, preload: \"none\" }, function() {\r\n                    if (self.mediaId) {\r\n                        this.src([{ type: \"video/mp4\", src: \"resources/videos/\" + self.mediaId + \".mp4\" }]);\r\n                        this.poster('resources/videos/posters/' + self.mediaId + '.jpg');\r\n                    }\r\n                });\r\n                vplayer.on('ended', $.proxy(this.setVideoEndEvent, this));\r\n            },\r\n            setVideoEndEvent: function(e) {\r\n                var nextVideo = this.videoList[this.currentIndex + 1];\r\n                if (nextVideo) {\r\n                    setTimeout(function() {\r\n                        window.location.href = \"video-playlist.html?watch=\" + nextVideo;\r\n                    }, 1500)\r\n\r\n                }\r\n            }\r\n        };\r\n\r\n        videoPlayList.init();\r\n\r\n    });\r\n\r\n})(jQuery);"],"file":"scripts.min.js","sourceRoot":"/source/"}