{"version":3,"sources":["videojs-playlists.min.js"],"names":["playList","options","arg","player","this","pl","index","parseInt","_guessVideoType","video","videoTypes","webm","mp4","ogv","extension","split","pop","init","videos","current","on","_videoEnd","getVideoSource","_addVideos","_updatePoster","posterURL","poster","removeChild","posterImage","addChild","i","length","aux","j","len","src","push","type","_nextPrev","func","comparison","addendum","newIndex","_setVideo","trigger","currentVideo","paused","_resumeVideo","_setVideoSource","one","play","next","Array","apply","videojs","Player","prototype","prev","plugin","title","demoModule","els","cacheElements","initVideo","createListOfVideos","bindEvents","overwriteConsole","console","_log","log","string","append","$playlist","$","$next","$prev","html","empty","updateActiveVideo","activeIndex","find","removeClass","addClass","self","proxy","selectVideo","nextOrPrev","e","clicked","target","attr","nodeName","closest","hasClass","videoIndex","data","jQuery"],"mappings":"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","file":"videojs-playlists.min.js","sourcesContent":["function playList(e,t){var i=this;i.pl=i.pl||{};var o=parseInt(e,10);return i.pl._guessVideoType=function(e){var t={webm:\"video/webm\",mp4:\"video/mp4\",ogv:\"video/ogg\"},i=e.split(\".\").pop();return t[i]||\"\"},i.pl.init=function(e,t){t=t||{},i.pl.videos=[],i.pl.current=0,i.on(\"ended\",i.pl._videoEnd),t.getVideoSource&&(i.pl.getVideoSource=t.getVideoSource),i.pl._addVideos(e)},i.pl._updatePoster=function(e){i.poster(e),i.removeChild(i.posterImage),i.posterImage=i.addChild(\"posterImage\")},i.pl._addVideos=function(e){for(var t=0,o=e.length;t<o;t++){for(var s=[],l=0,n=e[t].src.length;l<n;l++)s.push({type:i.pl._guessVideoType(e[t].src[l]),src:e[t].src[l]});e[t].src=s,i.pl.videos.push(e[t])}},i.pl._nextPrev=function(e){var t,o;if(\"next\"===e?(t=i.pl.videos.length-1,o=1):(t=0,o=-1),i.pl.current!==t){var s=i.pl.current+o;i.pl._setVideo(s),i.trigger(e,[i.pl.videos[s]])}},i.pl._setVideo=function(e){e<i.pl.videos.length&&(i.pl.current=e,i.pl.currentVideo=i.pl.videos[e],i.paused()||i.pl._resumeVideo(),i.pl.getVideoSource?i.pl.getVideoSource(i.pl.videos[e],function(e,t){i.pl._setVideoSource(e,t)}):i.pl._setVideoSource(i.pl.videos[e].src,i.pl.videos[e].poster))},i.pl._setVideoSource=function(e,t){i.src(e),i.pl._updatePoster(t)},i.pl._resumeVideo=function(){i.one(\"loadstart\",function(){i.play()})},i.pl._videoEnd=function(){i.pl.current===i.pl.videos.length-1?i.trigger(\"lastVideoEnded\"):(i.pl._resumeVideo(),i.next())},e instanceof Array?(i.pl.init(e,t),i.pl._setVideo(0),i):o===o?(i.pl._setVideo(o),i):\"string\"==typeof e&&\"undefined\"!=typeof i.pl[e]?(i.pl[e].apply(i),i):void 0}videojs.Player.prototype.next=function(){return this.pl._nextPrev(\"next\"),this},videojs.Player.prototype.prev=function(){return this.pl._nextPrev(\"prev\"),this},videojs.plugin(\"playList\",playList),function(){var e=[{src:[\"http://demo.dealerpro.net/Images/Sites/577/videos/HondaHands.mp4\"],poster:\"\",title:\"Honda. The Power of Dreams.\"},{src:[\"http://1eb9cddbb30a65a675d4-91fe7d858d3e9c59dcdfd3e789416fbc.r56.cf1.rackcdn.com/Sites/577/commercial.mp4\"],poster:\"\",title:\"Thanks for Making Us #1\"}],t={init:function(){this.els={},this.cacheElements(),this.initVideo(),this.createListOfVideos(),this.bindEvents(),this.overwriteConsole()},overwriteConsole:function(){console._log=console.log,console.log=this.log},log:function(e){t.els.log.append(\"<p>\"+e+\"</p>\"),console._log(e)},cacheElements:function(){this.els.$playlist=$(\"div.playlist > ul\"),this.els.$next=$(\"#next\"),this.els.$prev=$(\"#prev\"),this.els.log=$(\"div.panels > pre\")},initVideo:function(){this.player=videojs(\"video\"),this.player.playList(e)},createListOfVideos:function(){for(var t=\"\",i=0,o=this.player.pl.videos.length;i<o;i++)t+='<li data-videoplaylist=\"'+i+'\"><span class=\"number\">'+(i+1)+'</span><span class=\"poster\"><img src=\"'+e[i].poster+'\"></span><span class=\"title\">'+e[i].title+\"</span></li>\";this.els.$playlist.empty().html(t),this.updateActiveVideo()},updateActiveVideo:function(){var e=this.player.pl.current;this.els.$playlist.find(\"li\").removeClass(\"active\"),this.els.$playlist.find('li[data-videoplaylist=\"'+e+'\"]').addClass(\"active\")},bindEvents:function(){var e=this;this.els.$playlist.find(\"li\").on(\"click\",$.proxy(this.selectVideo,this)),this.els.$next.on(\"click\",$.proxy(this.nextOrPrev,this)),this.els.$prev.on(\"click\",$.proxy(this.nextOrPrev,this)),this.player.on(\"next\",function(t){console.log(\"Next video\"),e.updateActiveVideo.apply(e)}),this.player.on(\"prev\",function(t){console.log(\"Previous video\"),e.updateActiveVideo.apply(e)}),this.player.on(\"lastVideoEnded\",function(e){console.log(\"Last video has finished\")})},nextOrPrev:function(e){var t=$(e.target);this.player[t.attr(\"id\")]()},selectVideo:function(e){var t=\"LI\"===e.target.nodeName?$(e.target):$(e.target).closest(\"li\");if(!t.hasClass(\"active\")){console.log(\"Selecting video\");var i=t.data(\"videoplaylist\");this.player.playList(i),this.updateActiveVideo()}}};t.init()}(jQuery);"],"sourceRoot":"/source/"}